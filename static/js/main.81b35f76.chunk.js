(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(2),s=r(4),i=r(3),l=r(5),o=r(0),c=r.n(o),u=r(7),h=r.n(u);r(14);function p(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw s}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var m=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],y=function(){function e(){Object(a.a)(this,e),this.squares=[0,1,2,3,4,5,6,7,8],this.patterns=m.map(function(e){return e.slice()}),this.player1={alias:"player",patterns:[]},this.player2={alias:"cpu",patterns:[]}}return Object(n.a)(e,[{key:"makeMove",value:function(e,t){var r=this;v(t,this.squares);var a,n=p(e.patterns.filter(function(e){return e.includes(t)}));try{for(n.s();!(a=n.n()).done;){var s=a.value;if(v(t,s),0===s.length)return e.alias}}catch(l){n.e(l)}finally{n.f()}if(0===this.squares.length)return"draw";this.patterns.filter(function(e){return e.includes(t)}).forEach(function(a){v(t,a),v(a,r.patterns),e.patterns.push(a)});var i=e===this.player1?this.player2:this.player1;i.patterns.filter(function(e){return e.includes(t)}).forEach(function(e){v(e,i.patterns)})}},{key:"evaluateBoard",value:function(e){for(var t=e===this.player1?this.player2:this.player1,r=0,a=[e.patterns,t.patterns];r<a.length;r++){var n=a[r].filter(function(e){return 1===e.length});if(n.length>0)return b(n)[0]}var s=d(e.patterns);if(s.length>0)return b(s);var i=d(t.patterns);if(1===i.length)return b(i);if(i.length>1){var l=[];return e.patterns.forEach(function(e){e.forEach(function(t){var r=e.filter(function(e){return e!==t})[0];i.includes(r)||l.push(t)})}),b(l)}var o=d(e.patterns.concat(t.patterns));return o.length>0?b(o):e.patterns.length>0?b(b(e.patterns)):t.patterns.length>0?b(b(t.patterns)):b(this.squares)}}]),e}();function d(e){var t={};return e.forEach(function(e){e.forEach(function(e){t[e]=(t[e]||0)+1})}),Object.keys(t).filter(function(e){return t[e]>1}).map(function(e){return parseInt(e)})}function v(e,t){t.splice(t.indexOf(e),1)}function b(e){return e[Math.floor(Math.random()*Math.floor(e.length))]}var g=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"level"},c.a.createElement("h1",{className:"level-item title has-text-light",id:"message"},this.props.message)),c.a.createElement("div",{className:"level is-mobile has-text-light",id:"scoreboard"},c.a.createElement("div",{className:"level-item has-text-centered"},c.a.createElement("div",null,c.a.createElement("p",{id:"player-symbol"},"Player"),c.a.createElement("p",{id:"player-score"},this.props.playerScore))),c.a.createElement("div",{className:"level-item has-text-centered"},c.a.createElement("div",null,c.a.createElement("p",{id:"cpu-symbol"},"CPU"),c.a.createElement("p",{id:"cpu-score"},this.props.cpuScore)))))}}]),t}(c.a.Component),S=r(8),O=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"getClassList",value:function(){var e="cell has-text-centered";return this.props.id<6&&(e+=" no-bottom-border"),[0,1,3,4,6,7].includes(this.props.id)&&(e+=" no-right-border"),this.props.highlighted&&(e+=" highlighted"),e}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"cell-"+this.props.id,className:this.getClassList(),onClick:function(){return e.props.onClick()}},this.props.value)}}]),t}(c.a.Component);function k(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw s}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var j=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"mapValues",value:function(e){if(null===this.props.gameState){return["T","I","C","T","A","C","T","O","E"][e]}return this.props.squares[e]}},{key:"isHighlighted",value:function(e){if(null===this.props.gameState)return e%3===0;if(["player","cpu"].includes(this.props.gameState)){var t,r=this.props.squares,a=k(m.filter(function(t){return t.includes(e)}));try{for(a.s();!(t=a.n()).done;){var n=t.value,s=Object(S.a)(n,3),i=s[0],l=s[1],o=s[2];if(r[i]&&r[i]===r[l]&&r[i]===r[o])return!0}}catch(c){a.e(c)}finally{a.f()}}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"board has-text-light"},[0,1,2,3,4,5,6,7,8].map(function(t){return c.a.createElement(O,{id:t,key:t,value:e.mapValues(t),highlighted:e.isHighlighted(t),onClick:function(){return e.props.onClick(t)}})}))}}]),t}(c.a.Component),w=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"getClassList",value:function(){var e="button";return this.props.classList&&(e+=this.props.classList),this.props.isSelected&&(e+=" is-selected"),e}},{key:"render",value:function(){var e=this;return c.a.createElement("button",{className:this.getClassList(),id:this.props.id,disabled:"playing"===this.props.gameState,onClick:function(){return e.props.onClick()}},this.props.value)}}]),t}(c.a.Component),C=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={gameState:null,squares:null,game:null,player:{score:0,symbol:"X"},cpu:{score:0,symbol:"O"}},r}return Object(l.a)(t,e),Object(n.a)(t,[{key:"setMessage",value:function(){switch(this.state.gameState){case null:return"Welcome!";case"playing":return"You are "+this.state.player.symbol;case"player":return"You win!";case"cpu":return"You lose!";case"draw":return"It's a draw!"}}},{key:"startGame",value:function(){var e=Array(9).fill(null),t=new y;if("X"===this.state.cpu.symbol){var r=b(t.squares);e[r]=this.state.cpu.symbol,t.makeMove(t.player2,r)}this.setState({gameState:"playing",squares:e,game:t})}},{key:"handleClick",value:function(e){if("playing"===this.state.gameState&&!this.state.squares[e]){var t=this.state.squares.slice(),r=this.state.game;t[e]=this.state.player.symbol;var a=r.makeMove(r.player1,e);if(a)return this.endGame(a,t);var n=r.evaluateBoard(r.player2);if(t[n]=this.state.cpu.symbol,a=r.makeMove(r.player2,n))return this.endGame(a,t);this.setState({squares:t})}}},{key:"endGame",value:function(e,t){this.setState(function(r){var a={gameState:e,squares:t};return"draw"!==e&&(a[e]={score:r[e].score+1,symbol:r[e].symbol}),a})}},{key:"switchSymbol",value:function(e){this.setState({player:{symbol:e,score:this.state.player.score},cpu:{symbol:"X"===e?"O":"X",score:this.state.cpu.score}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"hero"},c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container"},c.a.createElement(g,{message:this.setMessage(),playerScore:this.state.player.score,cpuScore:this.state.cpu.score}),c.a.createElement(j,{squares:this.state.squares,gameState:this.state.gameState,onClick:function(t){return e.handleClick(t)}}),c.a.createElement("div",{className:"level is-mobile has-text-light",id:"start-button-level"},c.a.createElement(w,{classList:" level-item is-large is-link",id:"start-button",gameState:this.state.gameState,value:"Start Game",onClick:function(){return e.startGame()},isSelected:!1})),c.a.createElement("div",{className:"level is-mobile has-text-light",id:"option-buttons"},c.a.createElement(w,{classList:" level-item option is-size-6 is-size-7-mobile",id:"go-first",gameState:this.state.gameState,value:"Go first (X)",isSelected:"X"===this.state.player.symbol,onClick:function(){return e.switchSymbol("X")}}),c.a.createElement(w,{classList:" level-item option is-size-6 is-size-7-mobile",id:"go-second",gameState:this.state.gameState,value:"Go second (O)",isSelected:"O"===this.state.player.symbol,onClick:function(){return e.switchSymbol("O")}})))))}}]),t}(c.a.Component);h.a.render(c.a.createElement(C,null),document.getElementById("root"))},9:function(e,t,r){e.exports=r(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.81b35f76.chunk.js.map