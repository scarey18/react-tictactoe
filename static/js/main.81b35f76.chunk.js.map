{"version":3,"sources":["game.js","components/Scoreboard.js","components/Square.js","components/Board.js","components/Btn.js","index.js"],"names":["PATTERNS","Game","Object","classCallCheck","this","squares","patterns","map","p","slice","player1","alias","player2","createClass","key","value","player","id","_this","removeFromArr","_step","_iterator","_createForOfIteratorHelper","filter","includes","s","n","done","pattern","length","err","e","f","forEach","push","opp","_i","_arr","winningMoves","random","playerTraps","findTraps","oppTraps","safeMoves","a","b","tempoMoves","concat","counter","keys","parseInt","element","arr","splice","indexOf","Math","floor","Scoreboard","react_default","createElement","Fragment","className","props","message","playerScore","cpuScore","React","Component","Square","classList","highlighted","getClassList","onClick","Board","gameState","Board_createForOfIteratorHelper","_pattern","slicedToArray","c","components_Square","mapValues","isHighlighted","Btn","isSelected","disabled","App","possibleConstructorReturn","getPrototypeOf","call","state","game","score","symbol","cpu","Array","fill","makeMove","setState","endGame","cpuMove","evaluateBoard","newState","_this2","components_Scoreboard","setMessage","components_Board","handleClick","components_Btn","startGame","switchSymbol","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.81b35f76.chunk.js","sourcesContent":["export const PATTERNS = [\n\t\t\t\t\t\t\t\t\t [0, 1, 2],\n\t\t\t\t\t\t\t\t\t [3, 4, 5],\n\t\t\t\t\t\t\t\t\t [6, 7, 8],\n\t\t\t\t\t\t\t\t\t [0, 3, 6],\n\t\t\t\t\t\t\t\t\t [1, 4, 7],\n\t\t\t\t\t\t\t\t\t [2, 5, 8],\n\t\t\t\t\t\t\t\t\t [0, 4, 8],\n\t\t\t\t\t\t\t\t\t [2, 4, 6],\n\t\t\t\t\t\t\t\t ]\n\n\nexport class Game {\n\tconstructor() {\n\t\tthis.squares = [0, 1, 2, 3, 4, 5, 6, 7, 8];\n\t\tthis.patterns = PATTERNS.map(p => p.slice());\n\t\tthis.player1 = {\n\t\t\talias: 'player',\n\t\t\tpatterns: [],\n\t\t}\n\t\tthis.player2 = {\n\t\t\talias: 'cpu',\n\t\t\tpatterns: [],\n\t\t}\n\t}\n\n\tmakeMove(player, id) {\n\t\tremoveFromArr(id, this.squares);\n\n\t\tconst playerPatterns = player.patterns.filter(p => p.includes(id));\n\t\tfor (const pattern of playerPatterns) {\n\t\t\tremoveFromArr(id, pattern);\n\t\t\tif (pattern.length === 0) {\n\t\t\t\treturn player.alias;\n\t\t\t}\n\t\t}\n\n\t\tif (this.squares.length === 0) {\n\t\t\treturn 'draw';\n\t\t}\n\t\t\n\t\tconst unownedPatterns = this.patterns.filter(p => p.includes(id));\n\t\tunownedPatterns.forEach(pattern => {\n\t\t\tremoveFromArr(id, pattern);\n\t\t\tremoveFromArr(pattern, this.patterns);\n\t\t\tplayer.patterns.push(pattern);\n\t\t});\n\n\t\tconst opp = player === this.player1 ? this.player2 : this.player1;\n\t\tconst oppPatterns = opp.patterns.filter(p => p.includes(id));\n\t\toppPatterns.forEach(pattern => {\n\t\t\tremoveFromArr(pattern, opp.patterns);\n\t\t});\n\t}\n\n\tevaluateBoard(player) {\n\t\tconst opp = player === this.player1 ? this.player2 : this.player1;\n\n\t\tfor (const patterns of [player.patterns, opp.patterns]) {\n\t\t\tconst winningMoves = patterns.filter(p => p.length === 1);\n\t\t\tif (winningMoves.length > 0) {\n\t\t\t\treturn random(winningMoves)[0];\n\t\t\t}\n\t\t}\n\n\t\tconst playerTraps = findTraps(player.patterns);\n\t\tif (playerTraps.length > 0) {\n\t\t\treturn random(playerTraps);\n\t\t}\n\n\t\tconst oppTraps = findTraps(opp.patterns);\n\t\tif (oppTraps.length === 1) {\n\t\t\treturn random(oppTraps);\n\t\t} else if (oppTraps.length > 1) {\n\t\t\tconst safeMoves = [];\n\t\t\tplayer.patterns.forEach(pattern => {\n\t\t\t\tpattern.forEach(a => {\n\t\t\t\t\tconst b = pattern.filter(n => n !== a)[0];\n\t\t\t\t\tif (!oppTraps.includes(b)) {\n\t\t\t\t\t\tsafeMoves.push(a);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn random(safeMoves);\n\t\t}\n\n\t\tconst tempoMoves = findTraps(player.patterns.concat(opp.patterns));\n\t\tif (tempoMoves.length > 0) {\n\t\t\treturn random(tempoMoves);\n\t\t}\n\n\t\tif (player.patterns.length > 0) {\n\t\t\treturn random(random(player.patterns));\n\t\t}\n\n\t\tif (opp.patterns.length > 0) {\n\t\t\treturn random(random(opp.patterns));\n\t\t}\n\n\t\treturn random(this.squares);\n\t}\n}\n\n\nexport function findTraps(patterns) {\n\tconst counter = {};\n\tpatterns.forEach(pattern => {\n\t\tpattern.forEach(id => {\n\t\t\tcounter[id] = (counter[id] || 0) + 1;\n\t\t});\n\t});\n\treturn Object.keys(counter)\n\t\t.filter(id => counter[id] > 1)\n\t\t.map(id => parseInt(id));\n}\n\n\nexport function removeFromArr(element, arr) {\n\tarr.splice(arr.indexOf(element), 1);\n}\n\n\nexport function random(arr) {\n\tconst i = Math.floor(Math.random() * Math.floor(arr.length));\n\treturn arr[i];\n}","import React from 'react';\n\n\nclass Scoreboard extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"level\">\n\t\t\t\t\t<h1 className=\"level-item title has-text-light\" id=\"message\">\n\t\t\t\t\t\t{this.props.message}\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"level is-mobile has-text-light\" id=\"scoreboard\">\n\t\t\t\t\t<div className=\"level-item has-text-centered\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p id=\"player-symbol\">Player</p>\n\t\t\t\t\t\t\t<p id=\"player-score\">{this.props.playerScore}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"level-item has-text-centered\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p id=\"cpu-symbol\">CPU</p>\n\t\t\t\t\t\t\t<p id=\"cpu-score\">{this.props.cpuScore}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\t\n}\n\n\nexport default Scoreboard;","import React from 'react';\n\n\nclass Square extends React.Component {\n\tgetClassList() {\n\t\tlet classList = \"cell has-text-centered\";\n\t\tif (this.props.id < 6) {\n\t\t\tclassList += \" no-bottom-border\";\n\t\t}\n\t\tif ([0, 1, 3, 4, 6, 7].includes(this.props.id)) {\n\t\t\tclassList += \" no-right-border\";\n\t\t}\n\t\tif (this.props.highlighted) {\n\t\t\tclassList += \" highlighted\";\n\t\t}\n\t\treturn classList;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={\"cell-\" + this.props.id} \n\t\t\t\tclassName={this.getClassList()} \n\t\t\t\tonClick={() => this.props.onClick()}\n\t\t\t>\n\t\t\t\t{this.props.value}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default Square;","import React from 'react';\n\nimport { PATTERNS } from '../game';\nimport Square from './Square';\n\n\nclass Board extends React.Component {\n\tmapValues(id) {\n\t\tif (this.props.gameState === null) {\n\t\t\tconst message = ['T', 'I', 'C', 'T', 'A', 'C', 'T', 'O', 'E'];\n\t\t\treturn message[id];\n\t\t}\n\t\telse {\n\t\t\treturn this.props.squares[id];\n\t\t}\n\t}\n\n\tisHighlighted(id) {\n\t\tif (this.props.gameState === null) {\n\t\t\treturn (id % 3 === 0);\n\t\t}\n\t\telse if (['player', 'cpu'].includes(this.props.gameState)) {\n\t\t\tconst squares = this.props.squares;\n\t\t\tfor (const pattern of PATTERNS.filter(p => p.includes(id))) {\n\t\t\t\tconst [a, b, c] = pattern;\n\t\t\t\tif (squares[a] &&\n\t\t\t\t\t\tsquares[a] === squares[b] &&\n\t\t\t\t\t\tsquares[a] === squares[c]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst squares = [0, 1, 2, 3, 4, 5, 6, 7, 8];\n\t\treturn (\n\t\t\t<div className=\"board has-text-light\">\n\t\t\t\t{squares.map(id => {\n\t\t\t\t\treturn <Square \n\t\t\t\t\t\t\t\t\t id={id}\n\t\t\t\t\t\t\t\t\t key={id} \n\t\t\t\t\t\t\t\t\t value={this.mapValues(id)}\n\t\t\t\t\t\t\t\t\t highlighted={this.isHighlighted(id)}\n\t\t\t\t\t\t\t\t\t onClick={() => this.props.onClick(id)}\n\t\t\t\t\t\t\t\t />\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default Board;","import React from 'react';\n\n\nclass Btn extends React.Component {\n\tgetClassList() {\n\t\tlet classList = \"button\";\n\t\tif (this.props.classList) {\n\t\t\tclassList += this.props.classList;\n\t\t}\n\t\tif (this.props.isSelected) {\n\t\t\tclassList += \" is-selected\";\n\t\t}\n\t\treturn classList;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName={this.getClassList()}\n\t\t\t\tid={this.props.id}\n\t\t\t\tdisabled={this.props.gameState === 'playing'}\n\t\t\t\tonClick={() => this.props.onClick()}\n\t\t\t>\n\t\t\t\t{this.props.value}\n\t\t\t</button>\n\t\t);\n\t}\n}\n\n\nexport default Btn;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport {Game, random} from './game';\nimport Scoreboard from './components/Scoreboard';\nimport Board from './components/Board';\nimport Btn from './components/Btn';\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tgameState: null,\n\t\t\tsquares: null,\n\t\t\tgame: null,\n\t\t\tplayer: {\n\t\t\t\tscore: 0,\n\t\t\t\tsymbol: 'X',\n\t\t\t},\n\t\t\tcpu: {\n\t\t\t\tscore: 0,\n\t\t\t\tsymbol: 'O',\n\t\t\t},\n\t\t}\n\t}\n\n\tsetMessage() {\n\t\tswitch (this.state.gameState) {\n\t\t\tcase null: {\n\t\t\t\treturn \"Welcome!\";\n\t\t\t}\n\t\t\tcase \"playing\": {\n\t\t\t\treturn \"You are \" + this.state.player.symbol;\n\t\t\t}\n\t\t\tcase 'player': {\n\t\t\t\treturn \"You win!\";\n\t\t\t}\n\t\t\tcase 'cpu': {\n\t\t\t\treturn \"You lose!\";\n\t\t\t}\n\t\t\tcase \"draw\": {\n\t\t\t\treturn \"It's a draw!\";\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tstartGame() {\n\t\tconst squares = Array(9).fill(null);\n\t\tconst game = new Game();\n\t\tif (this.state.cpu.symbol === 'X') {\n\t\t\tconst id = random(game.squares);\n\t\t\tsquares[id] = this.state.cpu.symbol;\n\t\t\tgame.makeMove(game.player2, id);\n\t\t}\n\t\tthis.setState({\n\t\t\tgameState: 'playing',\n\t\t\tsquares,\n\t\t\tgame,\n\t\t});\n\t}\n\n\thandleClick(id) {\n\t\tif (this.state.gameState !== 'playing' || this.state.squares[id]) {\n\t\t\treturn;\n\t\t}\n\t\tconst squares = this.state.squares.slice();\n\t\tconst game = this.state.game;\n\t\tsquares[id] = this.state.player.symbol;\n\t\tlet gameState = game.makeMove(game.player1, id);\n\t\tif (gameState) {\n\t\t\treturn this.endGame(gameState, squares);\n\t\t}\n\t\tconst cpuMove = game.evaluateBoard(game.player2);\n\t\tsquares[cpuMove] = this.state.cpu.symbol;\n\t\tgameState = game.makeMove(game.player2, cpuMove);\n\t\tif (gameState) {\n\t\t\treturn this.endGame(gameState, squares);\n\t\t}\n\t\tthis.setState({squares});\n\t}\n\n\tendGame(gameState, squares) {\n\t\tthis.setState(state => {\n\t\t\tconst newState = {gameState, squares};\n\t\t\tif (gameState !== 'draw') {\n\t\t\t\tnewState[gameState] = {\n\t\t\t\t\tscore: state[gameState].score + 1,\n\t\t\t\t\tsymbol: state[gameState].symbol,\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newState;\n\t\t});\n\t}\n\n\tswitchSymbol(symbol) {\n\t\tthis.setState({\n\t\t\tplayer: {\n\t\t\t\tsymbol,\n\t\t\t\tscore: this.state.player.score,\n\t\t\t},\n\t\t\tcpu: {\n\t\t\t\tsymbol: symbol === 'X' ? 'O' : 'X',\n\t\t\t\tscore: this.state.cpu.score,\n\t\t\t},\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"hero\">\n\t\t\t\t<div className=\"hero-body\">\n\t\t\t\t\t<div className=\"container\">\n\n\t\t\t\t\t\t<Scoreboard\n\t\t\t\t\t\t\tmessage={this.setMessage()}\n\t\t\t\t\t\t\tplayerScore={this.state.player.score}\n\t\t\t\t\t\t\tcpuScore={this.state.cpu.score}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Board \n\t\t\t\t\t\t\tsquares={this.state.squares}\n\t\t\t\t\t\t\tgameState={this.state.gameState}\n\t\t\t\t\t\t\tonClick={id => this.handleClick(id)}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"level is-mobile has-text-light\" id=\"start-button-level\">\n\t\t\t\t\t\t\t<Btn \n\t\t\t\t\t\t\t\tclassList=\" level-item is-large is-link\"\n\t\t\t\t\t\t\t\tid=\"start-button\"\n\t\t\t\t\t\t\t\tgameState={this.state.gameState}\n\t\t\t\t\t\t\t\tvalue=\"Start Game\"\n\t\t\t\t\t\t\t\tonClick={() => this.startGame()}\n\t\t\t\t\t\t\t\tisSelected={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"level is-mobile has-text-light\" id=\"option-buttons\">\n\t\t\t\t\t\t\t<Btn\n\t\t\t\t\t\t\t\tclassList=\" level-item option is-size-6 is-size-7-mobile\"\n\t\t\t\t\t\t\t\tid=\"go-first\"\n\t\t\t\t\t\t\t\tgameState={this.state.gameState}\n\t\t\t\t\t\t\t\tvalue=\"Go first (X)\"\n\t\t\t\t\t\t\t\tisSelected={this.state.player.symbol === 'X'}\n\t\t\t\t\t\t\t\tonClick={() => this.switchSymbol('X')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Btn\n\t\t\t\t\t\t\t\tclassList=\" level-item option is-size-6 is-size-7-mobile\"\n\t\t\t\t\t\t\t\tid=\"go-second\"\n\t\t\t\t\t\t\t\tgameState={this.state.gameState}\n\t\t\t\t\t\t\t\tvalue=\"Go second (O)\"\n\t\t\t\t\t\t\t\tisSelected={this.state.player.symbol === 'O'}\n\t\t\t\t\t\t\t\tonClick={() => this.switchSymbol('O')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}