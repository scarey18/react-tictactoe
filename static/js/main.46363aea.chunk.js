(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(8),s=a(1),n=a(2),i=a(4),l=a(3),c=a(5),u=a(0),o=a.n(u),h=a(7),p=a.n(h),m=(a(15),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]),f=function(){function e(){Object(s.a)(this,e),this.squares=[0,1,2,3,4,5,6,7,8],this.patterns=m.map(function(e){return e.slice()}),this.player1={alias:"player",patterns:[]},this.player2={alias:"cpu",patterns:[]}}return Object(n.a)(e,[{key:"makeMove",value:function(e,t){var a=this;this.squares.splice(this.squares.indexOf(t),1);var r=e.patterns.filter(function(e){return e.includes(t)}),s=!0,n=!1,i=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var u=l.value;if(u.splice(u.indexOf(t),1),0===u.length)return e.alias}}catch(h){n=!0,i=h}finally{try{s||null==c.return||c.return()}finally{if(n)throw i}}if(0===this.squares.length)return"draw";this.patterns.filter(function(e){return e.includes(t)}).forEach(function(r){r.splice(r.indexOf(t),1),a.patterns.splice(a.patterns.indexOf(r),1),e.patterns.push(r)});var o=e===this.player1?this.player2:this.player1;o.patterns.filter(function(e){return e.includes(t)}).forEach(function(e){o.patterns.splice(o.patterns.indexOf(e),1)})}},{key:"evaluateBoard",value:function(e){if(8===this.squares.length)return this.squares.includes(4)?4:y([0,2,6,8]);for(var t=e===this.player1?this.player2:this.player1,a=[e.patterns,t.patterns],r=0;r<a.length;r++){var s=a[r].filter(function(e){return 1===e.length});if(s.length>0)return y(s)[0]}var n=v(e.patterns);if(n.length>0)return y(n);var i=v(t.patterns);if(1===i.length)return y(i);if(i.length>1){var l=[];return e.patterns.forEach(function(e){e.forEach(function(t){var a=e.filter(function(e){return e!==t})[0];i.includes(a)||l.push(t)})}),y(l)}return this.scoreAllMoves(e)}},{key:"scoreAllMoves",value:function(e){var t=this,a=[],r=-2;return this.squares.forEach(function(s){var n=t.simulateMove(e,s);n>r?(a=[s],r=n):n===r&&a.push(s)}),y(a)}},{key:"simulateMove",value:function(e,t){for(var a=e===this.player1?this.player2:this.player1,r=this.createClone(e,a),s=r.player1,n=r.player2,i=s,l=n,c=r.makeMove(s,t);!c;){i=i===s?n:s,l=l===s?n:s;var u=r.evaluateBoard(i);c=r.makeMove(i,u)}return"draw"===c?0:c===s.alias?1:-1}},{key:"createClone",value:function(t,a){var r=new e;return r.squares=this.squares.slice(),r.firstMove=this.firstMove,r.patterns=this.patterns.map(function(e){return e.slice()}),r.player1={alias:t.alias,patterns:t.patterns.map(function(e){return e.slice()})},r.player2={alias:a.alias,patterns:a.patterns.map(function(e){return e.slice()})},r}}]),e}();function v(e){var t=[],a=[];return e.forEach(function(e){e.forEach(function(e){t.includes(e)?a.includes(e)||a.push(e):t.push(e)})}),a}function y(e){return e[Math.floor(Math.random()*Math.floor(e.length))]}var d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"level"},o.a.createElement("h1",{className:"level-item title has-text-light",id:"message"},this.props.message)),o.a.createElement("div",{className:"level is-mobile has-text-light",id:"scoreboard"},o.a.createElement("div",{className:"level-item has-text-centered"},o.a.createElement("div",null,o.a.createElement("p",{id:"player-symbol"},"Player"),o.a.createElement("p",{id:"player-score"},this.props.playerScore))),o.a.createElement("div",{className:"level-item has-text-centered"},o.a.createElement("div",null,o.a.createElement("p",{id:"cpu-symbol"},"CPU"),o.a.createElement("p",{id:"cpu-score"},this.props.cpuScore)))))}}]),t}(o.a.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getClassList",value:function(){var e="cell has-text-centered";return this.props.id<6&&(e+=" no-bottom-border"),[0,1,3,4,6,7].includes(this.props.id)&&(e+=" no-right-border"),this.props.highlighted&&(e+=" highlighted"),e}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.getClassList(),onClick:function(){return e.props.onClick()}},this.props.value)}}]),t}(o.a.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"mapValues",value:function(e){if(null===this.props.gameState){return["T","I","C","T","A","C","T","O","E"][e]}return this.props.squares[e]}},{key:"highlight",value:function(e){if(null===this.props.gameState)return e%3===0;if(["player","cpu"].includes(this.props.gameState)){var t=this.props.squares,a=!0,s=!1,n=void 0;try{for(var i,l=m.filter(function(t){return t.includes(e)})[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value,u=Object(r.a)(c,3),o=u[0],h=u[1],p=u[2];if(t[o]&&t[o]===t[h]&&t[o]===t[p])return!0}}catch(f){s=!0,n=f}finally{try{a||null==l.return||l.return()}finally{if(s)throw n}}}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"board has-text-light"},[0,1,2,3,4,5,6,7,8].map(function(t){return o.a.createElement(b,{id:t,key:t,value:e.mapValues(t),highlighted:e.highlight(t),onClick:function(){return e.props.onClick(t)}})}))}}]),t}(o.a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getClassList",value:function(){var e="button"+this.props.classList;return this.props.isSelected&&(e+=" is-selected"),e}},{key:"render",value:function(){var e=this;return o.a.createElement("button",{className:this.getClassList(),id:this.props.id,disabled:"playing"===this.props.gameState,onClick:function(){return e.props.onClick()}},this.props.value)}}]),t}(o.a.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={gameState:null,squares:null,game:null,player:{score:0,symbol:"X"},cpu:{score:0,symbol:"O"}},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"setMessage",value:function(){switch(this.state.gameState){case null:return"Welcome!";case"playing":return"You are "+this.state.player.symbol;case"player":return"You win!";case"cpu":return"You lose!";case"draw":return"It's a draw!"}}},{key:"startGame",value:function(){var e=Array(9).fill(null),t=new f;if("X"===this.state.cpu.symbol){var a=y(t.squares);e[a]=this.state.cpu.symbol,t.makeMove(t.player2,a)}this.setState({gameState:"playing",squares:e,game:t})}},{key:"handleClick",value:function(e){if("playing"===this.state.gameState&&!this.state.squares[e]){var t=this.state.squares.slice(),a=this.state.game;t[e]=this.state.player.symbol;var r=a.makeMove(a.player1,e);if(r)return this.endGame(r,t);var s=a.evaluateBoard(a.player2);if(t[s]=this.state.cpu.symbol,r=a.makeMove(a.player2,s))return this.endGame(r,t);this.setState({squares:t})}}},{key:"endGame",value:function(e,t){this.setState(function(a){var r={gameState:e,squares:t};return"draw"!==e&&(r[e]={score:a[e].score+1,symbol:a[e].symbol}),r})}},{key:"switchSymbol",value:function(e){this.setState({player:{symbol:e,score:this.state.player.score},cpu:{symbol:"X"===e?"O":"X",score:this.state.cpu.score}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"hero"},o.a.createElement("div",{className:"hero-body"},o.a.createElement("div",{className:"container"},o.a.createElement(d,{message:this.setMessage(),playerScore:this.state.player.score,cpuScore:this.state.cpu.score}),o.a.createElement(g,{squares:this.state.squares,gameState:this.state.gameState,onClick:function(t){return e.handleClick(t)}}),o.a.createElement("div",{className:"level is-mobile has-text-light",id:"start-button-level"},o.a.createElement(k,{classList:" level-item is-large is-link",id:"start-button",gameState:this.state.gameState,value:"Start Game",onClick:function(){return e.startGame()},isSelected:!1})),o.a.createElement("div",{className:"level is-mobile has-text-light",id:"option-buttons"},o.a.createElement(k,{classList:" level-item option is-size-6 is-size-7-mobile",id:"go-first",gameState:this.state.gameState,value:"Go first (X)",isSelected:"X"===this.state.player.symbol,onClick:function(){return e.switchSymbol("X")}}),o.a.createElement(k,{classList:" level-item option is-size-6 is-size-7-mobile",id:"go-second",gameState:this.state.gameState,value:"Go second (O)",isSelected:"O"===this.state.player.symbol,onClick:function(){return e.switchSymbol("O")}})))))}}]),t}(o.a.Component);p.a.render(o.a.createElement(O,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,2,1]]]);
//# sourceMappingURL=main.46363aea.chunk.js.map